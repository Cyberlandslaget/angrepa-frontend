import NewExploitHeader from './NewExploitHeader';
import FileEditor from './FileHandling/FileEditor';
import { useEffect } from 'react';
import useFiles from 'utils/useFiles';

export default function NewExploit() {
  const { setFiles } = useFiles();

  const textEncoder = new TextEncoder();
  useEffect(() => {
    setFiles([
      {
        name: 'config.json',
        data: textEncoder.encode(`{
  "service": "httpchal1",
  "blacklist": ["10.1.1.2", "10.1.1.3"]
}`),
      },
    ]);
  }, []);

  return (
    <div className="w-full h-full grid grid-flow-row [grid-template-rows:6rem_1fr] gap-3">
      <NewExploitHeader />
      <FileEditor />
    </div>
  );
}
